{"version":3,"sources":["webpack:///src/components/users/Users.vue","webpack:///./src/components/users/Users.vue?604a","webpack:///./src/components/users/Users.vue"],"names":["Users","name","data","tableData","loading","searchInfo","mobile","pageInfos","pagesizes","pagesize","pageindex","total","dialogFormVisible","dialogFormVisible2","dialogFormVisible3","editInfos","components","add-newUser","__webpack_require__","e","then","bind","edit-newUser","assign-roles","computed","extends_default","tableHeight","window","innerHeight","Object","vuex_esm","stateApi","state","api","methods","init","_self","this","$axios","method","url","sys","users","list","params","query","pagenum","response","meta","status","$message","error","msg","catch","onReset","formName","onSearch","handleCurrentChange","val","handleSizeChange","changeStatus","userinfo","id","mg_state","success","addNewUser","handleCommand","row","command","JSON","parse","stringify_default","$confirm","confirmButtonText","cancelButtonText","type","onRefresList","handleCloseDialog","handleCloseDialog2","handleCloseDialog3","created","activated","users_Users","render","_vm","_h","$createElement","_c","directives","rawName","value","expression","staticStyle","min-height","attrs","element-loading-background","staticClass","margin-bottom","_v","model","callback","$$v","$set","on","click","stripe","border","max-height","align","header-align","prop","label","fixed","scopedSlots","_u","key","fn","scope","change","$event","width","show-overflow-tooltip","plain","slot","current-page","page-sizes","layout","size-change","current-change","visible","update:visible","closeDL","refreshList","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/8.01555f7e28d3e3134eab.js","sourcesContent":["<template>\n  <div style=\"min-height: calc(100vh - 100px)\" v-loading=\"loading\" element-loading-background=\"rgba(0, 0, 0, 0)\">\n    <div class=\"main\" style=\"margin-bottom: 20px;\">\n      <form class=\"screen\">\n        <div class=\"screen-item\">\n          <label>电话:</label>\n          <el-input v-model=\"searchInfo.mobile\"></el-input>\n        </div>\n        <div class=\"screen-item\"></div>\n        <div class=\"screen-btns\">\n          <el-button @click=\"onReset\">清空</el-button>\n          <el-button type=\"primary\" @click=\"onSearch\">查询</el-button>\n        </div>\n      </form>\n    </div>\n    <div class=\"main\" style=\"margin-bottom: 20px;\">\n      <el-button type=\"primary\" style=\"margin-bottom: 20px;\" @click=\"addNewUser\">添加新用户</el-button>\n      <el-table stripe border :max-height=\"tableHeight\" :data=\"tableData\">\n        <el-table-column align=\"center\" header-align=\"center\" prop=\"username\" label=\"姓名\" fixed></el-table-column>\n        <el-table-column align=\"center\" header-align=\"center\" prop=\"email\" label=\"邮箱\"></el-table-column>\n        <el-table-column align=\"center\" header-align=\"center\" prop=\"mobile\" label=\"电话\"></el-table-column>\n        <el-table-column align=\"center\" header-align=\"center\" prop=\"role_name\" label=\"角色\"></el-table-column>\n        <el-table-column align=\"center\" header-align=\"center\" prop=\"mg_state\" label=\"状态\">\n          <template slot-scope=\"scope\">\n            <el-switch v-model=\"scope.row.mg_state\" @change=\"changeStatus(scope.row)\"></el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column align=\"center\" header-align=\"center\" fixed=\"right\" label=\"操作\" width=\"140\" :show-overflow-tooltip=\"true\">\n          <template slot-scope=\"scope\">\n            <el-dropdown @command=\"handleCommand(scope.row, $event)\">\n              <el-button type=\"primary\" plain>操作\n                <i class=\"el-icon-arrow-down el-icon--right\"></i>\n              </el-button>\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item command=\"edit\">编辑</el-dropdown-item>\n                <el-dropdown-item command=\"del\">删除</el-dropdown-item>\n                <el-dropdown-item command=\"assignRoles\">分配角色</el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-footer>\n        <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"pageInfos.pageindex\" :page-sizes=\"pageInfos.pagesizes\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"pageInfos.total\"></el-pagination>\n      </el-footer>\n      <add-newUser v-if=\"dialogFormVisible\" :visible.sync=\"dialogFormVisible\" @closeDL=\"handleCloseDialog\" @refreshList=\"onRefresList\"></add-newUser>\n      <edit-newUser v-if=\"dialogFormVisible2\" :visible.sync=\"dialogFormVisible2\" @closeDL=\"handleCloseDialog2\" :data=\"editInfos\" @refreshList=\"onRefresList\"></edit-newUser>\n      <assign-roles v-if=\"dialogFormVisible3\" :visible.sync=\"dialogFormVisible3\" @closeDL=\"handleCloseDialog3\" :data=\"editInfos\" @refreshList=\"onRefresList\"></assign-roles>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nexport default {\n  name: 'Users',\n  data () {\n    return {\n      tableData: [],\n      loading: false,\n      searchInfo: {\n        mobile: ''\n      },\n      pageInfos: {\n        pagesizes: [10, 25, 50, 100],\n        pagesize: 10,\n        pageindex: 1,\n        total: 0\n      },\n      dialogFormVisible: false,\n      dialogFormVisible2: false,\n      dialogFormVisible3: false,\n      editInfos: {}\n    }\n  },\n  components: {\n    'add-newUser': () => import('@/components/users/dialog/AddNewUser.vue'),\n    'edit-newUser': () => import('@/components/users/dialog/EditNewUser.vue'),\n    'assign-roles': () => import('@/components/users/dialog/AssignRoles.vue')\n  },\n  computed: {\n    tableHeight () {\n      return window.innerHeight - 304\n    },\n    ...mapState({\n      stateApi: state => state.api\n    })\n  },\n  methods: {\n    /**\n     * 页面初始化调用\n     * @returns void\n     */\n    init () {\n      const _self = this\n      _self.loading = true\n      // 列表接口\n      _self\n        .$axios({\n          method: 'get',\n          url: _self.stateApi.sys.users.list,\n          params: {\n            query: _self.searchInfo.mobile,\n            pagenum: _self.pageInfos.pageindex,\n            pagesize: _self.pageInfos.pagesize\n          }\n        })\n        .then(response => {\n          const { data } = response\n          _self.loading = false\n          if (data.meta.status === 200) {\n            _self.tableData = data.data.users\n            _self.pageInfos.total = data.data.total\n          } else {\n            _self.$message.error(data.meta.msg)\n          }\n        })\n        .catch(() => {\n          _self.loading = false\n        })\n    },\n    /**\n     * 清空按钮\n     * @returns void\n     */\n    onReset (formName) {\n      const _self = this\n      _self.searchInfo = {\n        mobile: ''\n      }\n      _self.pageInfos.pageindex = 1\n      _self.init()\n    },\n    /**\n     * 查询按钮\n     * @returns void\n     */\n    onSearch (formName) {\n      const _self = this\n      _self.pageInfos.pageindex = 1\n      _self.init()\n    },\n    /**\n     * 分页页码改变时调用\n     * @param val 当前页码\n     * @returns void\n     */\n    handleCurrentChange (val) {\n      const _self = this\n      _self.pageInfos.pageindex = val\n      _self.init()\n    },\n    /**\n     * 分页每页显示条数改变时调用\n     * @param val 当前条数\n     * @returns void\n     */\n    handleSizeChange (val) {\n      const _self = this\n      _self.pageInfos.pageindex = 1\n      _self.pageInfos.pagesize = val\n      _self.init()\n    },\n    changeStatus (userinfo) {\n      const _self = this\n      _self\n        .$axios({\n          method: 'put',\n          url: `https://www.liulongbin.top:8888/api/private/v1/users/${\n            userinfo.id\n          }/state/${userinfo.mg_state}`\n        })\n        .then(response => {\n          _self.loading = false\n          const { data } = response\n          if (data.meta.status === 200) {\n            _self.$message.success(data.meta.msg)\n          } else {\n            userinfo.mg_state = !userinfo.mg_state\n            _self.$message.error(data.meta.msg)\n          }\n        })\n        .catch(() => {\n          _self.loading = false\n        })\n    },\n    /** 添加新用户按钮 */\n    addNewUser () {\n      const _self = this\n      _self.dialogFormVisible = true\n    },\n    /**\n     * 操作事件\n     * @returns void\n     */\n    handleCommand (row, command) {\n      const _self = this\n      // 编辑\n      if (command === 'edit') {\n        _self.dialogFormVisible2 = true\n        _self.editInfos = JSON.parse(JSON.stringify(row))\n      }\n      // 删除\n      if (command === 'del') {\n        _self.$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        })\n          .then(() => {\n            _self\n              .$axios({\n                method: 'delete',\n                url: `https://www.liulongbin.top:8888/api/private/v1/users/${row.id}`\n              })\n              .then(response => {\n                _self.loading = false\n                const { data } = response\n                if (data.meta.status === 200) {\n                  _self.init()\n                } else {\n                  _self.$message.error(data.meta.msg)\n                }\n              })\n              .catch(() => {\n                _self.loading = false\n              })\n          })\n          .catch(() => {})\n      }\n      // 分配角色\n      if (command === 'assignRoles') {\n        _self.dialogFormVisible3 = true\n        _self.editInfos = JSON.parse(JSON.stringify(row))\n      }\n    },\n    /**\n     * 在子页面刷新父页面数据 - 添加\n     * @returns void\n     */\n    onRefresList () {\n      const _self = this\n      _self.loading = true\n      _self.init()\n    },\n    /**\n     * 添加按钮的关闭弹框事件\n     * @returns void\n     */\n    handleCloseDialog () {\n      const _self = this\n      _self.dialogFormVisible = false\n    },\n    /**\n     * 分配角色按钮的关闭弹框事件\n     * @returns void\n     */\n    handleCloseDialog2 () {\n      const _self = this\n      _self.dialogFormVisible2 = false\n    },\n    /**\n     * 编辑按钮的关闭弹框事件\n     * @returns void\n     */\n    handleCloseDialog3 () {\n      const _self = this\n      _self.dialogFormVisible3 = false\n    }\n  },\n  created () {\n    const _self = this\n    _self.init()\n  },\n  activated () {\n    const _self = this\n    _self.init()\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.main {\n  padding: 20px;\n  background: #ffffff;\n}\n.el-form {\n  display: flex;\n}\n.el-form-item {\n  margin-bottom: 0px;\n}\n.el-form-item.flex1 {\n  flex: 1;\n}\n.el-form-item:last-child {\n  margin-right: 0px;\n}\n.el-footer {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/users/Users.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"min-height\":\"calc(100vh - 100px)\"},attrs:{\"element-loading-background\":\"rgba(0, 0, 0, 0)\"}},[_c('div',{staticClass:\"main\",staticStyle:{\"margin-bottom\":\"20px\"}},[_c('form',{staticClass:\"screen\"},[_c('div',{staticClass:\"screen-item\"},[_c('label',[_vm._v(\"电话:\")]),_vm._v(\" \"),_c('el-input',{model:{value:(_vm.searchInfo.mobile),callback:function ($$v) {_vm.$set(_vm.searchInfo, \"mobile\", $$v)},expression:\"searchInfo.mobile\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"screen-item\"}),_vm._v(\" \"),_c('div',{staticClass:\"screen-btns\"},[_c('el-button',{on:{\"click\":_vm.onReset}},[_vm._v(\"清空\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"查询\")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"main\",staticStyle:{\"margin-bottom\":\"20px\"}},[_c('el-button',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addNewUser}},[_vm._v(\"添加新用户\")]),_vm._v(\" \"),_c('el-table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"max-height\":_vm.tableHeight,\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"header-align\":\"center\",\"prop\":\"username\",\"label\":\"姓名\",\"fixed\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"header-align\":\"center\",\"prop\":\"email\",\"label\":\"邮箱\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"header-align\":\"center\",\"prop\":\"mobile\",\"label\":\"电话\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"header-align\":\"center\",\"prop\":\"role_name\",\"label\":\"角色\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"header-align\":\"center\",\"prop\":\"mg_state\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{on:{\"change\":function($event){return _vm.changeStatus(scope.row)}},model:{value:(scope.row.mg_state),callback:function ($$v) {_vm.$set(scope.row, \"mg_state\", $$v)},expression:\"scope.row.mg_state\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"header-align\":\"center\",\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"140\",\"show-overflow-tooltip\":true},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-dropdown',{on:{\"command\":function($event){return _vm.handleCommand(scope.row, $event)}}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"}},[_vm._v(\"操作\\n              \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"edit\"}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"del\"}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"assignRoles\"}},[_vm._v(\"分配角色\")])],1)],1)]}}])})],1),_vm._v(\" \"),_c('el-footer',[_c('el-pagination',{attrs:{\"current-page\":_vm.pageInfos.pageindex,\"page-sizes\":_vm.pageInfos.pagesizes,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pageInfos.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),(_vm.dialogFormVisible)?_c('add-newUser',{attrs:{\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event},\"closeDL\":_vm.handleCloseDialog,\"refreshList\":_vm.onRefresList}}):_vm._e(),_vm._v(\" \"),(_vm.dialogFormVisible2)?_c('edit-newUser',{attrs:{\"visible\":_vm.dialogFormVisible2,\"data\":_vm.editInfos},on:{\"update:visible\":function($event){_vm.dialogFormVisible2=$event},\"closeDL\":_vm.handleCloseDialog2,\"refreshList\":_vm.onRefresList}}):_vm._e(),_vm._v(\" \"),(_vm.dialogFormVisible3)?_c('assign-roles',{attrs:{\"visible\":_vm.dialogFormVisible3,\"data\":_vm.editInfos},on:{\"update:visible\":function($event){_vm.dialogFormVisible3=$event},\"closeDL\":_vm.handleCloseDialog3,\"refreshList\":_vm.onRefresList}}):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-26a89925\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/users/Users.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-26a89925\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Users.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Users.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Users.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-26a89925\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Users.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-26a89925\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/users/Users.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}