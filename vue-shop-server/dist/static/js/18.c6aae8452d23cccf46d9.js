webpackJsonp([18],{"9TWy":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("Dd8w"),i=a.n(o),r=a("NYxO"),s={name:"AddParams",props:{visible:{required:!0,type:Boolean},title:{type:String},parentCate:{type:Number}},created:function(){"动态参数"===this.title?this.attrSel="many":this.attrSel="only"},data:function(){return{formLabelWidth:"180px",formInfo:{activeParams:""},attrSel:"",loading:!1,rules:{activeParams:[{required:!0,message:"请输入"+this.title,trigger:["change","blur"]}]}}},computed:i()({},Object(r.b)({stateApi:function(t){return t.api}})),methods:{closeDialog:function(){this.$emit("closeDL")},handleCancle:function(t){this.closeDialog(),this.$refs[t].resetFields()},handleSubmit:function(t){var e=this;e.$refs[t].validate(function(t){if(!t)return!1;e.loading||(e.loading=!0,e.$axios({method:"post",url:e.stateApi.sys.goods.cate.list+"/"+e.parentCate+"/attributes",data:{attr_name:e.formInfo.activeParams,attr_sel:e.attrSel}}).then(function(t){e.loading=!1;var a=t.data;201===a.meta.status?(e.$message.success(a.meta.msg),e.closeDialog(),e.$emit("refreshList")):e.$message.error(a.meta.msg)}).catch(function(){e.loading=!1}))})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"添加"+t.title,visible:t.visible,width:"38%","before-close":t.closeDialog,"close-on-click-modal":!1},on:{close:t.closeDialog}},[a("el-form",{ref:"formInfo",attrs:{model:t.formInfo,rules:t.rules}},[a("el-form-item",{attrs:{label:t.title,"label-width":t.formLabelWidth,prop:"activeParams"}},[a("el-input",{staticClass:"select",model:{value:t.formInfo.activeParams,callback:function(e){t.$set(t.formInfo,"activeParams",e)},expression:"formInfo.activeParams"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.handleCancle("formInfo")}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.loading},on:{click:function(e){return t.handleSubmit("formInfo")}}},[t._v("确定")])],1)],1)},staticRenderFns:[]};var n=a("VU/8")(s,l,!1,function(t){a("HoTX")},"data-v-7efa314e",null);e.default=n.exports},HoTX:function(t,e){}});
//# sourceMappingURL=18.c6aae8452d23cccf46d9.js.map