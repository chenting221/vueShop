webpackJsonp([15],{"+klt":function(t,e){},"6xZj":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Dd8w"),l=a.n(i),n=a("NYxO"),r={name:"EditParams",props:{visible:{required:!0,type:Boolean},data:{type:Object},title:{type:String},parentCate:{type:Number}},created:function(){"动态参数"===this.title?this.attrSel="many":this.attrSel="only"},data:function(){return{formLabelWidth:"180px",attrSel:"",loading:!1,rules:{attr_name:[{required:!0,message:"请输入"+this.title,trigger:["change","blur"]}]}}},computed:l()({},Object(n.b)({stateApi:function(t){return t.api}})),methods:{closeDialog:function(){this.$emit("closeDL")},handleCancle:function(t){this.closeDialog(),this.$refs[t].resetFields()},handleSubmit:function(t){var e=this;e.$refs[t].validate(function(t){if(!t)return!1;e.loading||(e.loading=!0,e.$axios({method:"put",url:e.stateApi.sys.goods.cate.list+"/"+e.data.cat_id+"/attributes/"+e.data.attr_id,data:{attr_name:e.data.attr_name,attr_sel:e.attrSel}}).then(function(t){e.loading=!1;var a=t.data;200===a.meta.status?(e.$message.success(a.meta.msg),e.closeDialog(),e.$emit("refreshList")):e.$message.error(a.meta.msg)}).catch(function(){e.loading=!1}))})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"编辑"+t.title,visible:t.visible,width:"38%","before-close":t.closeDialog,"close-on-click-modal":!1},on:{close:t.closeDialog}},[a("el-form",{ref:"data",attrs:{model:t.data,rules:t.rules}},[a("el-form-item",{attrs:{label:t.title,"label-width":t.formLabelWidth,prop:"attr_name"}},[a("el-input",{staticClass:"select",model:{value:t.data.attr_name,callback:function(e){t.$set(t.data,"attr_name",e)},expression:"data.attr_name"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.handleCancle("data")}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.loading},on:{click:function(e){return t.handleSubmit("data")}}},[t._v("确定")])],1)],1)},staticRenderFns:[]};var o=a("VU/8")(r,s,!1,function(t){a("+klt")},"data-v-f9768018",null);e.default=o.exports}});
//# sourceMappingURL=15.8a97e65484dd28c61760.js.map