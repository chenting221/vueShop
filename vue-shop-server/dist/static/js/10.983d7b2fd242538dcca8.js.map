{"version":3,"sources":["webpack:///src/components/power/Roles.vue","webpack:///./src/components/power/Roles.vue?6cff","webpack:///./src/components/power/Roles.vue"],"names":["Roles","name","data","tableData","loading","pageInfos","pagesizes","pagesize","pageindex","total","dialogFormVisible","dialogFormVisible2","dialogFormVisible3","editInfos","components","add-roles","__webpack_require__","e","then","bind","edit-roles","allocation","computed","extends_default","tableHeight","window","innerHeight","Object","vuex_esm","stateApi","state","api","methods","init","_self","this","$axios","method","url","sys","power","roles","response","meta","status","$message","error","msg","catch","removeRightById","role","rightId","$confirm","confirmButtonText","cancelButtonText","type","id","success","children","handleCurrentChange","val","handleSizeChange","changeStatus","userinfo","mg_state","addRoles","handleCommand","row","command","JSON","parse","stringify_default","onRefresList","handleCloseDialog","handleCloseDialog2","handleCloseDialog3","created","activated","power_Roles","render","_vm","_h","$createElement","_c","directives","rawName","value","expression","staticStyle","min-height","attrs","element-loading-background","staticClass","margin-bottom","on","click","_v","stripe","border","max-height","scopedSlots","_u","key","fn","scope","_l","item1","i1","class","span","closable","close","$event","_s","authName","item2","i2","item3","align","header-align","prop","label","fixed","plain","slot","current-page","page-sizes","layout","size-change","current-change","visible","update:visible","closeDL","refreshList","_e","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.983d7b2fd242538dcca8.js","sourcesContent":["<template>\n  <div style=\"min-height: calc(100vh - 100px)\" v-loading=\"loading\" element-loading-background=\"rgba(0, 0, 0, 0)\">\n    <div class=\"main\" style=\"margin-bottom: 20px;\">\n      <el-button type=\"primary\" style=\"margin-bottom: 20px;\" @click=\"addRoles\">添加角色</el-button>\n      <el-table stripe border :max-height=\"tableHeight\" :data=\"tableData\">\n        <el-table-column type=\"expand\">\n          <template slot-scope=\"scope\">\n            <el-row :class=\"['bdbottom', i1 === 0 ? 'bdtop' : '', 'rowflex']\" v-for=\"(item1, i1) in scope.row.children\" :key=\"item1.id\">\n              <!-- 渲染一级权限 -->\n              <el-col :span=\"5\">\n                <el-tag closable @close=\"removeRightById(scope.row, item1.id)\">{{ item1.authName }}</el-tag>\n                <i class=\"el-icon-caret-right\"></i>\n              </el-col>\n              <!-- 渲染二级、三级权限 -->\n              <el-col :span=\"19\">\n                <!-- 通过for循环嵌套渲染二级权限 -->\n                <el-row :class=\"[i2 === 0 ? '' : 'bdtop', 'rowflex']\" v-for=\"(item2, i2) in item1.children\" :key=\"item2.id\">\n                  <el-col :span=\"6\">\n                    <el-tag type=\"success\" closable @close=\"removeRightById(scope.row, item2.id)\">{{ item2.authName }}</el-tag>\n                    <i class=\"el-icon-caret-right\"></i>\n                  </el-col>\n                  <el-col :span=\"18\">\n                    <!-- 通过for循环嵌套渲染三级权限 -->\n                    <el-tag closable type=\"warning\" v-for=\"(item3) in item2.children\" :key=\"item3.id\" @close=\"removeRightById(scope.row, item3.id)\">{{ item3.authName }}</el-tag>\n                  </el-col>\n                </el-row>\n              </el-col>\n            </el-row>\n          </template>\n        </el-table-column>\n        <el-table-column align=\"center\" header-align=\"center\" prop=\"roleName\" label=\"角色名称\"></el-table-column>\n        <el-table-column align=\"center\" header-align=\"center\" prop=\"roleDesc\" label=\"角色描述\"></el-table-column>\n        <el-table-column align=\"center\" header-align=\"center\" fixed=\"right\" label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-dropdown @command=\"handleCommand(scope.row, $event)\">\n              <el-button type=\"primary\" plain>操作\n                <i class=\"el-icon-arrow-down el-icon--right\"></i>\n              </el-button>\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item command=\"edit\">编辑</el-dropdown-item>\n                <el-dropdown-item command=\"del\">删除</el-dropdown-item>\n                <el-dropdown-item command=\"allocation\">分配权限</el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-footer>\n        <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"pageInfos.pageindex\" :page-sizes=\"pageInfos.pagesizes\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"pageInfos.total\"></el-pagination>\n      </el-footer>\n      <add-roles v-if=\"dialogFormVisible\" :visible.sync=\"dialogFormVisible\" @closeDL=\"handleCloseDialog\" @refreshList=\"onRefresList\"></add-roles>\n      <edit-roles v-if=\"dialogFormVisible2\" :visible.sync=\"dialogFormVisible2\" @closeDL=\"handleCloseDialog2\" :data=\"editInfos\" @refreshList=\"onRefresList\"></edit-roles>\n      <allocation v-if=\"dialogFormVisible3\" :visible.sync=\"dialogFormVisible3\" @closeDL=\"handleCloseDialog3\" :data=\"editInfos\" @refreshList=\"onRefresList\"></allocation>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nexport default {\n  name: 'Roles',\n  data () {\n    return {\n      tableData: [],\n      loading: false,\n      pageInfos: {\n        pagesizes: [10, 25, 50, 100],\n        pagesize: 10,\n        pageindex: 1,\n        total: 0\n      },\n      dialogFormVisible: false,\n      dialogFormVisible2: false,\n      dialogFormVisible3: false,\n      editInfos: {}\n    }\n  },\n  components: {\n    'add-roles': () => import('@/components/power/dialog/AddRoles.vue'),\n    'edit-roles': () => import('@/components/power/dialog/EditRoles.vue'),\n    'allocation': () => import('@/components/power/dialog/allocation')\n  },\n  computed: {\n    tableHeight () {\n      return window.innerHeight - 302\n    },\n    ...mapState({\n      stateApi: state => state.api\n    })\n  },\n  methods: {\n    /**\n     * 页面初始化调用\n     * @returns void\n     */\n    init () {\n      const _self = this\n      _self.loading = true\n      // 列表接口\n      _self\n        .$axios({\n          method: 'get',\n          url: _self.stateApi.sys.power.roles\n        })\n        .then(response => {\n          const { data } = response\n          _self.loading = false\n          if (data.meta.status === 200) {\n            _self.tableData = data.data\n            // _self.pageInfos.total = data.data.total\n          } else {\n            _self.$message.error(data.meta.msg)\n          }\n        })\n        .catch(() => {\n          _self.loading = false\n        })\n    },\n    /**\n     * 根据对应的id删除相应的权限节点\n     */\n    removeRightById (role, rightId) {\n      const _self = this\n      _self\n        .$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        })\n        .then(() => {\n          _self\n            .$axios({\n              method: 'delete',\n              url: `https://www.liulongbin.top:8888/api/private/v1/roles/${\n                role.id\n              }/rights/${rightId}`\n            })\n            .then(response => {\n              _self.loading = false\n              const { data } = response\n              if (data.meta.status === 200) {\n                _self.$message.success(data.meta.msg)\n                // 删除成功后 不建议重新渲染列表\n                // 把服务器返回的最新的权限节点直接赋给当前角色的childeren属性，\n                // 防止当前列表的刷新，提高用户体验度\n                role.children = data.data\n              } else {\n                _self.$message.error(data.meta.msg)\n              }\n            })\n            .catch(() => {\n              _self.loading = false\n            })\n        })\n        .catch(() => {})\n    },\n    /**\n     * 分页页码改变时调用\n     * @param val 当前页码\n     * @returns void\n     */\n    handleCurrentChange (val) {\n      const _self = this\n      _self.pageInfos.pageindex = val\n      _self.init()\n    },\n    /**\n     * 分页每页显示条数改变时调用\n     * @param val 当前条数\n     * @returns void\n     */\n    handleSizeChange (val) {\n      const _self = this\n      _self.pageInfos.pageindex = 1\n      _self.pageInfos.pagesize = val\n      _self.init()\n    },\n    changeStatus (userinfo) {\n      const _self = this\n      _self\n        .$axios({\n          method: 'put',\n          url: `https://www.liulongbin.top:8888/api/private/v1/users/${\n            userinfo.id\n          }/state/${userinfo.mg_state}`\n        })\n        .then(response => {\n          _self.loading = false\n          const { data } = response\n          if (data.meta.status === 200) {\n            _self.$message.success(data.meta.msg)\n          } else {\n            userinfo.mg_state = !userinfo.mg_state\n            _self.$message.error(data.meta.msg)\n          }\n        })\n        .catch(() => {\n          _self.loading = false\n        })\n    },\n    /** 添加用户 */\n    addRoles () {\n      const _self = this\n      _self.dialogFormVisible = true\n    },\n    /**\n     * 操作事件\n     * @returns void\n     */\n    handleCommand (row, command) {\n      const _self = this\n      // 编辑\n      if (command === 'edit') {\n        _self.dialogFormVisible2 = true\n        _self.editInfos = JSON.parse(JSON.stringify(row))\n      }\n      // 删除\n      if (command === 'del') {\n        _self\n          .$confirm('此操作将永久删除该用户, 是否继续?', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          })\n          .then(() => {\n            _self\n              .$axios({\n                method: 'delete',\n                url: `https://www.liulongbin.top:8888/api/private/v1/roles/${\n                  row.id\n                }`\n              })\n              .then(response => {\n                _self.loading = false\n                const { data } = response\n                if (data.meta.status === 200) {\n                  _self.$message.success(data.meta.msg)\n                  _self.init()\n                } else {\n                  _self.$message.error(data.meta.msg)\n                }\n              })\n              .catch(() => {\n                _self.loading = false\n              })\n          })\n          .catch(() => {})\n      }\n      // 分配权限\n      if (command === 'allocation') {\n        _self.dialogFormVisible3 = true\n        _self.editInfos = JSON.parse(JSON.stringify(row))\n      }\n    },\n    /**\n     * 在子页面刷新父页面数据 - 添加\n     * @returns void\n     */\n    onRefresList () {\n      const _self = this\n      _self.loading = true\n      _self.init()\n    },\n    /**\n     * 添加按钮的关闭弹框事件\n     * @returns void\n     */\n    handleCloseDialog () {\n      const _self = this\n      _self.dialogFormVisible = false\n    },\n    /**\n     * 编辑按钮的关闭弹框事件\n     * @returns void\n     */\n    handleCloseDialog2 () {\n      const _self = this\n      _self.dialogFormVisible2 = false\n    },\n    /**\n     * 分配权限按钮的关闭弹框事件\n     * @returns void\n     */\n    handleCloseDialog3 () {\n      const _self = this\n      _self.dialogFormVisible3 = false\n    }\n  },\n  created () {\n    const _self = this\n    _self.init()\n  },\n  activated () {\n    const _self = this\n    _self.init()\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.main {\n  padding: 20px;\n  background: #ffffff;\n}\n.el-form {\n  display: flex;\n}\n.el-form-item {\n  margin-bottom: 0px;\n}\n.el-form-item.flex1 {\n  flex: 1;\n}\n.el-form-item:last-child {\n  margin-right: 0px;\n}\n.el-footer {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n.bdtop {\n  border-top: 1px solid #eee;\n}\n.bdbottom {\n  border-bottom: 1px solid #eee;\n}\n.el-tag {\n  margin: 7px;\n}\n.rowflex {\n  display: flex;\n  align-items: center;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/power/Roles.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"min-height\":\"calc(100vh - 100px)\"},attrs:{\"element-loading-background\":\"rgba(0, 0, 0, 0)\"}},[_c('div',{staticClass:\"main\",staticStyle:{\"margin-bottom\":\"20px\"}},[_c('el-button',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addRoles}},[_vm._v(\"添加角色\")]),_vm._v(\" \"),_c('el-table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"max-height\":_vm.tableHeight,\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((scope.row.children),function(item1,i1){return _c('el-row',{key:item1.id,class:['bdbottom', i1 === 0 ? 'bdtop' : '', 'rowflex']},[_c('el-col',{attrs:{\"span\":5}},[_c('el-tag',{attrs:{\"closable\":\"\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row, item1.id)}}},[_vm._v(_vm._s(item1.authName))]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":19}},_vm._l((item1.children),function(item2,i2){return _c('el-row',{key:item2.id,class:[i2 === 0 ? '' : 'bdtop', 'rowflex']},[_c('el-col',{attrs:{\"span\":6}},[_c('el-tag',{attrs:{\"type\":\"success\",\"closable\":\"\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row, item2.id)}}},[_vm._v(_vm._s(item2.authName))]),_vm._v(\" \"),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":18}},_vm._l((item2.children),function(item3){return _c('el-tag',{key:item3.id,attrs:{\"closable\":\"\",\"type\":\"warning\"},on:{\"close\":function($event){return _vm.removeRightById(scope.row, item3.id)}}},[_vm._v(_vm._s(item3.authName))])}),1)],1)}),1)],1)})}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"header-align\":\"center\",\"prop\":\"roleName\",\"label\":\"角色名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"header-align\":\"center\",\"prop\":\"roleDesc\",\"label\":\"角色描述\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"header-align\":\"center\",\"fixed\":\"right\",\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-dropdown',{on:{\"command\":function($event){return _vm.handleCommand(scope.row, $event)}}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"}},[_vm._v(\"操作\\n              \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"edit\"}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"del\"}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"allocation\"}},[_vm._v(\"分配权限\")])],1)],1)]}}])})],1),_vm._v(\" \"),_c('el-footer',[_c('el-pagination',{attrs:{\"current-page\":_vm.pageInfos.pageindex,\"page-sizes\":_vm.pageInfos.pagesizes,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pageInfos.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),(_vm.dialogFormVisible)?_c('add-roles',{attrs:{\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event},\"closeDL\":_vm.handleCloseDialog,\"refreshList\":_vm.onRefresList}}):_vm._e(),_vm._v(\" \"),(_vm.dialogFormVisible2)?_c('edit-roles',{attrs:{\"visible\":_vm.dialogFormVisible2,\"data\":_vm.editInfos},on:{\"update:visible\":function($event){_vm.dialogFormVisible2=$event},\"closeDL\":_vm.handleCloseDialog2,\"refreshList\":_vm.onRefresList}}):_vm._e(),_vm._v(\" \"),(_vm.dialogFormVisible3)?_c('allocation',{attrs:{\"visible\":_vm.dialogFormVisible3,\"data\":_vm.editInfos},on:{\"update:visible\":function($event){_vm.dialogFormVisible3=$event},\"closeDL\":_vm.handleCloseDialog3,\"refreshList\":_vm.onRefresList}}):_vm._e()],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-08e73002\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/power/Roles.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-08e73002\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Roles.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Roles.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Roles.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-08e73002\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Roles.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-08e73002\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/power/Roles.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}