webpackJsonp([24],{Jb1g:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Dd8w"),n=a.n(i),s=a("NYxO"),o={name:"EditCate",props:{visible:{required:!0,type:Boolean},data:{type:Object}},data:function(){return{formLabelWidth:"180px",loading:!1,rules:{cat_name:[{required:!0,message:"请输入分类名称",trigger:["change","blur"]}]}}},computed:n()({},Object(s.b)({stateApi:function(t){return t.api}})),created:function(){this.init()},methods:{init:function(){var t=this;t.loading=!0,t.$axios({method:"get",url:t.stateApi.sys.goods.cate.list,params:{type:2}}).then(function(e){var a=e.data;t.loading=!1,200===a.meta.status?t.parentCateList=a.data:t.$message.error(a.meta.msg)}).catch(function(){t.loading=!1})},closeDialog:function(){this.$emit("closeDL")},handleCancle:function(t){this.closeDialog(),this.$refs[t].resetFields()},handleSubmit:function(t){var e=this;e.$refs[t].validate(function(t){if(!t)return!1;e.loading||(e.loading=!0,e.$axios({method:"put",url:e.stateApi.sys.goods.cate.list+"/"+e.data.cat_id,data:{cat_name:e.data.cat_name}}).then(function(t){e.loading=!1;var a=t.data;200===a.meta.status?(e.$message.success(a.meta.msg),e.closeDialog(),e.$emit("refreshList")):e.$message.error(a.meta.msg)}).catch(function(){e.loading=!1}))})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"编辑分类",visible:t.visible,width:"38%","before-close":t.closeDialog,"close-on-click-modal":!1},on:{close:t.closeDialog}},[a("el-form",{ref:"data",attrs:{model:t.data,rules:t.rules}},[a("el-form-item",{attrs:{label:"分类名称","label-width":t.formLabelWidth,prop:"catename"}},[a("el-input",{staticClass:"select",model:{value:t.data.cat_name,callback:function(e){t.$set(t.data,"cat_name",e)},expression:"data.cat_name"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.handleCancle("data")}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",disabled:t.loading},on:{click:function(e){return t.handleSubmit("data")}}},[t._v("确定")])],1)],1)},staticRenderFns:[]};var r=a("VU/8")(o,l,!1,function(t){a("rq+W")},"data-v-0dc3c1f7",null);e.default=r.exports},"rq+W":function(t,e){}});
//# sourceMappingURL=24.35d6c44a5554a5a1d002.js.map