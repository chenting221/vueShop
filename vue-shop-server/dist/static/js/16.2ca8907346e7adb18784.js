webpackJsonp([16],{YJqD:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("Dd8w"),a=r.n(o),l=r("NYxO"),s={name:"AddNewUser",props:{visible:{required:!0,type:Boolean},data:{type:Object}},data:function(){return{formLabelWidth:"180px",formInfo:{username:"",password:"",email:"",mobile:""},loading:!1,rules:{username:[{required:!0,message:"请输入用户名",trigger:["change","blur"]},{min:3,max:10,message:"用户名长度在3-10个字符之间",trigger:["change","blur"]}],password:[{required:!0,message:"请输入密码",trigger:["change","blur"]},{min:6,max:15,message:"密码长度在3-10个字符之间",trigger:["change","blur"]}],email:[{required:!0,message:"请输入邮箱",trigger:["change","blur"]},{validator:function(e,t,r){if(/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/.test(t))return r();r(new Error("请输入合法的邮箱"))},trigger:"blur"}],mobile:[{required:!0,message:"请输入手机",trigger:["change","blur"]},{validator:function(e,t,r){if(/^(0|86|17951)?(13[0-9]|15[0123456789]|17[678]|18[0-9]|14[57])[0-9]{8}$/.test(t))return r();r(new Error("请输入合法的手机号"))},trigger:"blur"}]}}},computed:a()({},Object(l.b)({stateApi:function(e){return e.api}})),methods:{closeDialog:function(){this.$emit("closeDL")},handleCancle:function(e){this.closeDialog(),this.$refs[e].resetFields()},handleSubmit:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return!1;t.loading||(t.loading=!0,t.$axios({method:"post",url:t.stateApi.sys.users.add,data:t.formInfo}).then(function(e){t.loading=!1;var r=e.data;201===r.meta.status?(t.$message.success(r.meta.msg),t.closeDialog(),t.$emit("refreshList")):t.$message.error(r.meta.msg)}).catch(function(){t.loading=!1}))})}}},i={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{attrs:{title:"添加",visible:e.visible,width:"38%","before-close":e.closeDialog,"close-on-click-modal":!1},on:{close:e.closeDialog}},[r("el-form",{ref:"formInfo",attrs:{model:e.formInfo,rules:e.rules}},[r("el-form-item",{attrs:{label:"用户名","label-width":e.formLabelWidth,prop:"username"}},[r("el-input",{staticClass:"select",model:{value:e.formInfo.username,callback:function(t){e.$set(e.formInfo,"username",t)},expression:"formInfo.username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth,prop:"password"}},[r("el-input",{staticClass:"select",model:{value:e.formInfo.password,callback:function(t){e.$set(e.formInfo,"password",t)},expression:"formInfo.password"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"邮箱","label-width":e.formLabelWidth,prop:"email"}},[r("el-input",{staticClass:"select",model:{value:e.formInfo.email,callback:function(t){e.$set(e.formInfo,"email",t)},expression:"formInfo.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机","label-width":e.formLabelWidth,prop:"mobile"}},[r("el-input",{staticClass:"select",model:{value:e.formInfo.mobile,callback:function(t){e.$set(e.formInfo,"mobile",t)},expression:"formInfo.mobile"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){return e.handleCancle("formInfo")}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",disabled:e.loading},on:{click:function(t){return e.handleSubmit("formInfo")}}},[e._v("确定")])],1)],1)},staticRenderFns:[]};var n=r("VU/8")(s,i,!1,function(e){r("fo/f")},"data-v-d89b71ac",null);t.default=n.exports},"fo/f":function(e,t){}});
//# sourceMappingURL=16.2ca8907346e7adb18784.js.map