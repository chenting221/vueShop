{"version":3,"sources":["webpack:///src/components/goods/List.vue","webpack:///./src/components/goods/List.vue?ada5","webpack:///./src/components/goods/List.vue"],"names":["List","name","data","tableData","loading","searchInfo","pageInfos","pagesizes","pagesize","pageindex","total","computed","extends_default","tableHeight","window","innerHeight","Object","vuex_esm","stateApi","state","api","methods","init","_self","this","$axios","method","url","sys","goods","list","params","query","pagenum","then","response","meta","status","$message","error","msg","catch","onReset","formName","onSearch","handleCurrentChange","val","handleSizeChange","addGoods","$router","push","del","row","$confirm","confirmButtonText","cancelButtonText","type","goods_id","onRefresList","created","activated","goods_List","render","_vm","_h","$createElement","_c","directives","rawName","value","expression","staticStyle","min-height","attrs","element-loading-background","staticClass","margin-bottom","_v","model","callback","$$v","on","click","stripe","border","max-height","align","header-align","prop","label","fixed","width","scopedSlots","_u","key","fn","scope","_s","_f","add_time","icon","size","$event","current-page","page-sizes","layout","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.f7fe5d10f70783bb5ea8.js","sourcesContent":["<template>\n  <div\n    style=\"min-height: calc(100vh - 100px)\"\n    v-loading=\"loading\"\n    element-loading-background=\"rgba(0, 0, 0, 0)\"\n  >\n    <div\n      class=\"main\"\n      style=\"margin-bottom: 20px;\"\n    >\n      <form class=\"screen\">\n        <div class=\"screen-item\">\n          <label>请输入搜索内容:</label>\n          <el-input v-model=\"searchInfo\"></el-input>\n        </div>\n        <div class=\"screen-item\"></div>\n        <div class=\"screen-btns\">\n          <el-button @click=\"onReset\">清空</el-button>\n          <el-button\n            type=\"primary\"\n            @click=\"onSearch\"\n          >查询</el-button>\n        </div>\n      </form>\n    </div>\n    <div\n      class=\"main\"\n      style=\"margin-bottom: 20px;\"\n    >\n      <el-button\n        type=\"primary\"\n        style=\"margin-bottom: 20px;\"\n        @click=\"addGoods\"\n      >添加商品</el-button>\n      <el-table\n        stripe\n        border\n        :max-height=\"tableHeight\"\n        :data=\"tableData\"\n      >\n        <el-table-column\n          align=\"center\"\n          header-align=\"center\"\n          prop=\"goods_name\"\n          label=\"商品名称\"\n          fixed\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          header-align=\"center\"\n          prop=\"goods_price\"\n          label=\"商品价格\"\n          width=\"120\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          header-align=\"center\"\n          prop=\"goods_weight\"\n          label=\"商品重量\"\n          width=\"120\"\n        ></el-table-column>\n        <el-table-column\n          align=\"center\"\n          header-align=\"center\"\n          prop=\"add_time\"\n          label=\"创建时间\"\n          width=\"180\"\n        >\n          <template slot-scope=\"scope\">\n            {{ scope.row.add_time | dateFormat }}\n          </template>\n        </el-table-column>\n        <el-table-column\n          align=\"center\"\n          header-align=\"center\"\n          fixed=\"right\"\n          label=\"操作\"\n          width=\"220\"\n        >\n          <template slot-scope=\"scope\">\n             <!-- @click=\"edit(scope.row)\" -->\n            <el-button\n              type=\"primary\"\n              icon=\"el-icon-edit\"\n              size=\"mini\"\n            >编辑</el-button>\n            <el-button\n              @click=\"del(scope.row)\"\n              type=\"danger\"\n              icon=\"el-icon-delete\"\n              size=\"mini\"\n            >删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-footer>\n        <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"pageInfos.pageindex\"\n          :page-sizes=\"pageInfos.pagesizes\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"pageInfos.total\"\n        ></el-pagination>\n      </el-footer>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nexport default {\n  name: 'List',\n  data () {\n    return {\n      tableData: [],\n      loading: false,\n      searchInfo: '',\n      pageInfos: {\n        pagesizes: [10, 25, 50, 100],\n        pagesize: 10,\n        pageindex: 1,\n        total: 0\n      }\n    }\n  },\n  computed: {\n    tableHeight () {\n      return window.innerHeight - 304\n    },\n    ...mapState({\n      stateApi: state => state.api\n    })\n  },\n  methods: {\n    /**\n     * 页面初始化调用\n     * @returns void\n     */\n    init () {\n      const _self = this\n      _self.loading = true\n      // 列表接口\n      _self\n        .$axios({\n          method: 'get',\n          url: _self.stateApi.sys.goods.goods.list,\n          params: {\n            query: _self.searchInfo,\n            pagenum: _self.pageInfos.pageindex,\n            pagesize: _self.pageInfos.pagesize\n          }\n        })\n        .then(response => {\n          const { data } = response\n          _self.loading = false\n          if (data.meta.status === 200) {\n            _self.tableData = data.data.goods\n            _self.pageInfos.total = data.data.total\n          } else {\n            _self.$message.error(data.meta.msg)\n          }\n        })\n        .catch(() => {\n          _self.loading = false\n        })\n    },\n    /**\n     * 清空按钮\n     * @returns void\n     */\n    onReset (formName) {\n      const _self = this\n      _self.searchInfo = ''\n      _self.pageInfos.pageindex = 1\n      _self.init()\n    },\n    /**\n     * 查询按钮\n     * @returns void\n     */\n    onSearch (formName) {\n      const _self = this\n      _self.pageInfos.pageindex = 1\n      _self.init()\n    },\n    /**\n     * 分页页码改变时调用\n     * @param val 当前页码\n     * @returns void\n     */\n    handleCurrentChange (val) {\n      const _self = this\n      _self.pageInfos.pageindex = val\n      _self.init()\n    },\n    /**\n     * 分页每页显示条数改变时调用\n     * @param val 当前条数\n     * @returns void\n     */\n    handleSizeChange (val) {\n      const _self = this\n      _self.pageInfos.pageindex = 1\n      _self.pageInfos.pagesize = val\n      _self.init()\n    },\n    /** 添加商品 */\n    addGoods () {\n      const _self = this\n      _self.$router.push('/goods/add')\n    },\n    /**\n     * 编辑按钮\n     */\n    // edit(row) {\n    //   _self.dialogFormVisible2 = true;\n    //   _self.editInfos = JSON.parse(JSON.stringify(row));\n    // },\n    /**\n     * 删除按钮\n     */\n    del (row) {\n      const _self = this\n      _self\n        .$confirm('此操作将永久删除该商品, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        })\n        .then(() => {\n          _self\n            .$axios({\n              method: 'delete',\n              url:\n                _self.stateApi.sys.goods.goods.list +\n                '/' +\n                row.goods_id\n            })\n            .then(response => {\n              _self.loading = false\n              const { data } = response\n              if (data.meta.status === 200) {\n                _self.init()\n              } else {\n                _self.$message.error(data.meta.msg)\n              }\n            })\n            .catch(() => {\n              _self.loading = false\n            })\n        })\n        .catch(() => {})\n    },\n    /**\n     * 在子页面刷新父页面数据 - 添加\n     * @returns void\n     */\n    onRefresList () {\n      const _self = this\n      _self.loading = true\n      _self.init()\n    }\n  },\n  created () {\n    const _self = this\n    _self.init()\n  },\n  activated () {\n    const _self = this\n    _self.init()\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.main {\n  padding: 20px;\n  background: #ffffff;\n}\n.el-form {\n  display: flex;\n}\n.el-form-item {\n  margin-bottom: 0px;\n}\n.el-form-item.flex1 {\n  flex: 1;\n}\n.el-form-item:last-child {\n  margin-right: 0px;\n}\n.el-footer {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/goods/List.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"min-height\":\"calc(100vh - 100px)\"},attrs:{\"element-loading-background\":\"rgba(0, 0, 0, 0)\"}},[_c('div',{staticClass:\"main\",staticStyle:{\"margin-bottom\":\"20px\"}},[_c('form',{staticClass:\"screen\"},[_c('div',{staticClass:\"screen-item\"},[_c('label',[_vm._v(\"请输入搜索内容:\")]),_vm._v(\" \"),_c('el-input',{model:{value:(_vm.searchInfo),callback:function ($$v) {_vm.searchInfo=$$v},expression:\"searchInfo\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"screen-item\"}),_vm._v(\" \"),_c('div',{staticClass:\"screen-btns\"},[_c('el-button',{on:{\"click\":_vm.onReset}},[_vm._v(\"清空\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"查询\")])],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"main\",staticStyle:{\"margin-bottom\":\"20px\"}},[_c('el-button',{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addGoods}},[_vm._v(\"添加商品\")]),_vm._v(\" \"),_c('el-table',{attrs:{\"stripe\":\"\",\"border\":\"\",\"max-height\":_vm.tableHeight,\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"header-align\":\"center\",\"prop\":\"goods_name\",\"label\":\"商品名称\",\"fixed\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"header-align\":\"center\",\"prop\":\"goods_price\",\"label\":\"商品价格\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"header-align\":\"center\",\"prop\":\"goods_weight\",\"label\":\"商品重量\",\"width\":\"120\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"header-align\":\"center\",\"prop\":\"add_time\",\"label\":\"创建时间\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n          \"+_vm._s(_vm._f(\"dateFormat\")(scope.row.add_time))+\"\\n        \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"header-align\":\"center\",\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"220\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.del(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('el-footer',[_c('el-pagination',{attrs:{\"current-page\":_vm.pageInfos.pageindex,\"page-sizes\":_vm.pageInfos.pagesizes,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pageInfos.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-76e1b147\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/goods/List.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-76e1b147\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./List.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-76e1b147\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./List.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-76e1b147\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/goods/List.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}